# Ask AI – макрос для взаимодействия с ChatGPT (и другими LLM-сервисами) в FAR

Доступ к сервисам возможен как посредством разнообразных консольных утилит, так и напрямую через REST API.

Каждый из LLM-сервисов имеет свои достоинства и недостатки – [выбор](#обзор-онлайн-сервисов) за пользователем.

Макрос назначен на `Ctrl+B` и открывает [диалог](#диалог) для ввода запроса и настройки параметров генерации.
При этом выделение редактора передаётся в качестве контекста.

Может быть также запущен в качестве скрипта [LuaShell](https://forum.farmanager.com/viewtopic.php?f=15&t=10907).

*Вывод* ответа осуществляется в отдельном редакторе.

> Макросы, активные в окне с выводом:
>
> - `Ctrl+Shift+Ins`:
>   - скопировать выделенный текст, склеив свёрнутые строки обратно в параграфы;
>   - при отсутствии выделения ищет и обрабатывает блок кода под курсором.
> - `Alt+F2` полностью убрать форматирование (свёртку).

`Ctrl+B:Double` позволяет в любой момент открыть окно с выводом повторно.

Если выделен текст, то нажатие `Ctrl+B:Hold` продолжает чат без открытия диалога,
передавая выделение в качестве нового запроса.

Кроме того, прилагается файл `macros.lua.sample` с примерами макросов для быстрых действий, см. [Профили](#профили).

**Примечание**: составные сочетания типа `Ctrl+B:Double`/`Ctrl+B:Hold` предполагают использование модуля [MacroEx](https://forum.farmanager.com/viewtopic.php?f=15&t=8764).  
Альтернативно, можно заменить сочетания на простые, см. [Опции `askai.lua`](#установка).

## Диалог

Диалог служит для ввода **запроса** и настройки различных параметров.  
Ранее набранные приглашения доступны в истории поля ввода.  
Для удобного редактирования объёмных/многострочных запросов рекомендуется макрос [EditBoxToEditor](https://forum.farmanager.com/viewtopic.php?p=178783#p178783).

Вместе с запросом передаётся **выделенный в редакторе текст**.  
Если в запросе присутствует шаблон `{{%input%}}`, то выделенный текст подставляется на его место.  
В противном случае выделенный текст добавляется в конец запроса.

Последующие запросы учитывают предыдущий контекст, образуя диалог (*сессию*), если не настроено иное.

На верхней рамке диалога отображается имя текущего [профиля](#профили),
перейти к нему можно не только курсорными клавишами, но и по `CtrlHome`.

В поле редактирования запроса можно переместиться с помощью хоткея или нажатием `PgUp`.

Примечание: повторные нажатия `CtrlHome` / `PgUp` переключают фокус между полями профиля / запроса.

Доступны такие **настройки**:

- `Session` - по умолчанию (состояние `[?]`) сессия продолжается, пока открыт редактор с [выводом](#ask-ai--макрос-для-взаимодействия-с-chatgpt-и-другими-llm-сервисами-в-far).  
  Также сессию можно в любой момент принудительно **очистить** кнопкой “`-`”.
- `Timeout` - предельное время ожидания ответа на запрос (для “нативных” конфигураций).
- **Форматирование вывода** по заданной границе или по ширине окна (состояние `[?]`).  
  Блоки кода не форматируются.
- Установка различных **параметров** генерации (в зависимости от выбранного сервиса/утилиты).  
  Значения запоминаются в истории и легко доступны для повторного выбора.  
  Некоторые параметры специфичны для отдельной **конфигурации**, другие могут разделяться между разными
  (посредством общей истории).
- Возможность установки **переменных окружения**, необходимых для отдельных утилит.

**Кнопки**:

- `[ Utility cfg ]` доступна в случае, если используемая активной конфигурацией утилита
  держит **настройки в собственном файле**; нажатие кнопки позволяет открыть его в редакторе.
- `[ Authorization ]` доступна если активной конфигурацией предусмотрена **авторизация через браузер**.  
  Результатом успешной авторизации является заполнение или обновление поля `apikey`.
- `[ Presets - F5 ]` позволяет подставить сразу несколько параметров набором (“пресетом”).  
  По нажатию кнопки открывается [Список пресетов](#работа-с-пресетами).  
  Пресеты также могут реализовывать собственную **авторизацию**, которая будет инициироваться загрузкой
  пресета в первый раз (или при очищеном поле `apikey`).
- `[ Models - F6 ]` запрашивает список **моделей** через API, если это предусмотрено конфигурацией,
  в противном случае кнопка недоступна.  
  Также фиксированный список моделей может быть уже предварительно занесён в историю поля ввода
  (актуально для некоторых пресетов и конфигураций).
- `[ Providers - ^B ]` или же повторное нажатие `Ctrl+B` позволяет переключиться на другую конфигурацию,
  открывая [Меню выбора конфигурации провайдера](#меню-выбора-конфигурации-провайдера).
- `{ Go! }` или `Enter` – запуск генерации ответа модели, [вывод](#ask-ai--макрос-для-взаимодействия-с-chatgpt-и-другими-llm-сервисами-в-far) открывается в отдельном редакторе.

Дополнительные шорткаты:

- `Shift+F4` - задать заголовки запроса (для *OpenAI-compatible*) в виде таблицы Lua или Moonscript
  (удобно использовать *[single line table literal](https://moonscript.org/reference/#the-language/table-literals)*).
- `Shift+F5` - открыть историю поля `apibase`.
- `Shift+F6` - открыть отсортированный в алфавитном порядке список истории моделей.
- `Ctrl+H` - переключение между полным и “компактным” режимом диалога
  (без параметров конфигурации и кнопок).
- `Alt+F4` - открывает в редакторе файл активной конфигурации провайдера (\*.lua.cfg),
  например при необходимости изменить набор доступных параметров.

По умолчанию диалог открывается в полном режиме, но это можно изменить параметром `compactDlg`,
см. [Опции `askai.lua`](#установка).

### Профили

По существу **профиль** представляет собой именованный набор значений, сохраняемых в истории соответствующих
полей ввода.

Профили задуманы как средство для выполнения “быстрых действий” с использованием макросов (см. ниже),
и без этого не несут большой ценности, т.к. для обычного свободного чата достаточно штатного выбора
из истории.

На практике же при использовании *AskAI* часто возникают типовые повторяющиеся задачи,
которые хотелось бы выполнять максимально оперативно, с заранее заданными параметрами, не тратя внимание на ввод,
и даже не открывая диалога, если например все исходные данные содержатся в выделенном тексте.

Для обеспечения этого и задуманы профили.

#### Управление

Текущий профиль отображается на верхней рамке, быстро перейти в поле для редактирования можно нажатием
`Ctrl+Home`; если ввести имя несуществующего профиля, то он будет создан.

Выбрать существующий профиль можно из выпадающего списка, по `Shift+Del` в этом списке профиль можно удалить.

Находясь в любом поле ввода с помощью `Ctrl+Up` можно открыть список истории соответствующего поля из
профиля `default`.

#### Использование

Предполагается, что под каждую типовую задачу заводится отдельный **профиль**, который можно вызвать одним нажатием
клавиши, используя макрос.

Примеры макросов можно увидеть в `macros.lua.sample` (для загрузки переименовать в файл с расширением `.lua`).

Это самый обычный макрофайл, загружаемый штатным образом, а функция `askAI` доступна в нём как модуль, через `require`.

В макросе задаётся только имя профиля, а соответствующая роль, запрос (*prompt*), провайдер и прочее
настраиваются уже в диалоге. Введённые значения запоминаются каждый раз при закрытии диалога по `Enter`/`CtrlEnter`;
также можно сохранить их принудительно нажатием `Shift+Enter` в любой строке редактирования.

Примечание: заранее создавать профиль нет необходимости, диалог со всеми настройками будет и так открыт
при первом вызове макроса (сначала надо будет выбрать [провайдера](#меню-выбора-конфигурации-провайдера)).

### Работа с пресетами

**Список пресетов** вызывается из [диалога](#диалог) нажатием соответствующей кнопки, хоткеем, или же по `F5`.

“Пресет” представляет собой именованный набор параметров, подставляемых в соответствующие поля диалога.  
Пресеты хранятся в файлах `*.preset` и являются Lua-файлами.

Создать новый пресет можно нажав `Shift+F4` или `Ins`.

Над пресетами в списке доступны следующие действия:

- `Enter` - заполнить поля диалога значениями из пресета.
- `F4` - открыть в редакторе.
- `F5` - скопировать, `F6` - переименовать.
- `F8` или `Del` - удалить.

В списке отображаются только пресеты, подходящие для текущей конфигурации диалога:  
если в пресете содержится параметр, не имеющий соответствия в диалоге текущей конфигурации,
то такой пресет показан не будет.

Нажатием `Ctrl+H` можно принудительно отобразить все пресеты.

См. также: [обзор пресетов](#обзор-онлайн-сервисов) для сервисов совместимых с **OpenAI API**.

## Установка

- Содержимое архива разместить в отдельной директории, где-то в `Macros/scripts`.
- Для [LuaShell](https://forum.farmanager.com/viewtopic.php?f=15&t=10907) – стандартным образом, т.е. где-то в `Macros/utils`,
  или в любой другой директории, доступной через `%PATH%`.
- Для работы с сетью непосредственно, через “нативные” конфигурации, такие как `openai.lua.cfg`,
  необходимы следующие модули:
  - `LuaSocket`, `LuaSec`: <https://github.com/FarManagerLegacy/LuaBinaries/releases>  
    и их зависимости: [OpenSSL](https://github.com/FarManagerLegacy/LuaBinaries/blob/main/OpenSSL.md), [MS Visual C++ Redist](https://learn.microsoft.com/en-us/cpp/windows/latest-supported-vc-redist?view=msvc-170#latest-microsoft-visual-c-redistributable-version).
  - Практически любой JSON модуль, предоставляющий функции `encode`/`decode`.
    - По умолчанию ищется модуль с одним из имён: `cjson`, `rsjson`, `ljson`, `dkjson`, `lunajson`, или просто [`json`](https://luarocks.org/search?q=json)
      (см. также [lua-users wiki](http://lua-users.org/wiki/JsonModules)).  
      Мною тестировались [Lua CJSON](https://github.com/FarManagerLegacy/LuaBinaries/) и [`dkjson`](http://dkolf.de/dkjson-lua/).
    - Для явного указания имени модуля предусмотрена опция `json_module` в начале скрипта (см. ниже).
- Также можно работать через [сторонние утилиты](#меню-выбора-конфигурации-провайдера):
  - Для запуска утилит рекомендуется модуль [Piper](https://forum.farmanager.com/viewtopic.php?p=167895#p167895)
    (положить в `modules`).  
    В случае его отсутствия для запуска будет использована стандартная функция [`io.popen`](https://www.lua.org/manual/5.1/manual.html#pdf-io.popen), в сочетании  
    с созданием временных файлов и перенаправлением их в стандартный ввод посредством команд shell.
  - В `%PATH%` должны быть **утилиты**, соответствующие имеющимся файлам **определений** (\*.lua.cfg),
    см. раздел [Обзор утилит](#меню-выбора-конфигурации-провайдера).
- При работе с [профилями](#профили), чтобы при удалении профиля очищалась и связанная с ним история,
  опционально можно установить модуль [LuaSQLite3](https://lua.sqlite.org/),
  который присутствует например в дистрибутиве плагина [Polygon](https://github.com/shmuz/far_plugins/releases?q=Polygon&expanded=true).

Не являются абсолютно необходимыми, но улучшают опыт использования следующие сторонние скрипты:

- [EditBoxToEditor](https://forum.farmanager.com/viewtopic.php?p=178783#p178783) - открытие в редакторе объёмного/многострочного текста из полей ввода.
- [MacroEx](https://forum.farmanager.com/viewtopic.php?f=15&t=8764) - составные комбинации для запуска макросов.
- [MenuAutoFilter](https://forum.farmanager.com/viewtopic.php?t=8463) — автоматическая активация фильтра в меню и списках истории.

### Настройка

Большая часть *конфигураций* требует задания некоторых параметров в [диалоге](#диалог).  
Наиболее важные параметры - такие как `apibase`, `apikey` и `model` - определяются выбранным [сервисов](#обзор-онлайн-сервисов).

Некоторые *утилиты* используют файл настройки, доступный как из **диалога**, так и в [списке конфигураций](#меню-выбора-конфигурации-провайдера)
(подробнее см. в документации соответствующих утилит).

### Опции `askai.lua`

В начале файла скрипта можно увидеть такие параметры:

- `key`, `keyList`, `keyOutput`, `keyReply`, `keyCopy`:
  сочетания для вызова основных макросов, перечисленных в [Описании](#ask-ai--макрос-для-взаимодействия-с-chatgpt-и-другими-llm-сервисами-в-far).
- `smallDlg`: отображать диалог без полей.
- `compactDlg`: по умолчанию открывать [Диалог](#диалог) в “компактном” режиме, без настроек.
- `json_module`: имя модуля для работы с *json*.

Значения этих параметров можно изменить прямо в коде.
Но чтобы после каждого обновления скрипта не приходилось вручную восстанавливать
изменённые значения, рекомендуется использовать возможности **cfgscript** из пакета [ScriptsBrowser](https://forum.farmanager.com/viewtopic.php?f=15&t=10418).

## Меню выбора конфигурации провайдера

В комплекте идут **конфигурации** для ряда опробованных мной утилит/сервисов
(но легко добавить и новые).

С некоторыми соображениями по выбору конфигурации можно ознакомиться в разделе [Обзор сервисов](#обзор-онлайн-сервисов).

- Выбор конфигурации осуществляется через **меню**, доступное как прямо из [диалога](#диалог),
  так и отовсюду посредством макроса.  
  Выбор запоминается.
- Верхний раздел списка содержит “нативные” конфигурации, работающие с сетью средствами Lua.  
  Раздел не будет отображаться, если отсутствуют необходимые модули, см. [Установка](#установка).  
  Стандартные конфигурации (см. [обзор](#обзор-онлайн-сервисов)):
  *OpenAI-compatible*, *Google Gemini*, *Cohere*.
- Нижний раздел списка содержит определения, использующие внешние утилиты (см. обзор ниже).  
  По умолчанию список содержит только установленные утилиты, полный список – по `Ctrl+H`.
  - Утилиты необходимо скачать самостоятельно (соответствующий сайт открывается по `Alt+F1` из меню).
  - Утилитам может требоваться настройка (помимо параметров в диалоге),
    подробнее см. в их собственной документации.  
    Быстрый доступ к **файлу** с настройками (если применимо) - из меню по `F4`,
    или в [диалоге](#диалог) по кнопке `[ Utility cfg ]`.
- По `Alt+F4` - быстрый доступ к файлу с **определением** той или иной конфигурации (\*.lua.cfg).

В общем случае следует отдать предпочтение “нативным” конфигурациям, поскольку они обеспечивают больше возможностей.

Однако в некоторых случаях может оказаться проще или удобнее работать и через утилиты, например:

- если соответствующая утилита уже есть (и используется из командной строки);
- если утилита уже содержит настройки провайдеров (как `gemini`, `gh models`, `tgpt`, `pytgpt`);
- если пользователю проще скачать утилиту, чем выполнить другие инструкции по [установке](#установка).

### Обзор утилит

- [Gemini CLI](https://github.com/google-gemini/gemini-cli) - ещё один способ доступа к моделям от [Google](https://ai.google.dev/).  
  В отличии от других вариантов бесплатно предоставляется доступ к `gemini-2.5-pro` (до 1000 запросов в день).  
  Простой логин через браузер.  
  Требуется [Node.js](https://nodejs.org/en/download).
- [gh models](https://github.com/github/gh-models) - GitHub Models extension.  
  Инструкции по установке см. на домашней странице.  
  Необходим аккаунт GitHub. Действуют [лимиты](https://docs.github.com/en/github-models/prototyping-with-ai-models#rate-limits).
- [Copilot CLI](https://github.com/features/copilot/cli) - GitHub Copilot CLI.  
  Стартует медленно!  
  Необходим аккаунт GitHub. Действуют [лимиты](https://docs.github.com/en/copilot/get-started/plans#comparing-copilot-plans).
- [tgpt](https://github.com/aandrew-me/tgpt), [pytgpt](https://github.com/Simatwa/python-tgpt) - не требуют предварительной настройки.  
  Недостаток: не гарантирована стабильность (иногда требуется обновление утилит).
- Прочие утилиты - [aichat](https://github.com/sigoden/aichat), [chatgpt-cli](https://github.com/kardolus/chatgpt-cli), [mods](https://github.com/charmbracelet/mods), [sgpt](https://github.com/tbckr/sgpt), [smartcat](https://github.com/efugier/smartcat) - работают с [OpenAI API](https://platform.openai.com/docs/api-reference) (и совместимыми).  
  Требуют задания некоторых параметров, прежде всего `apibase`, `apikey` и `model`.
  Их значения зависят от выбранного [сервиса](#обзор-онлайн-сервисов).  
  В зависимости от утилиты, параметры или надо установить через **файл** настроек (как описано выше),
  или они могут быть доступны сразу в [диалоге](#диалог),
  если они передаются как **аргументы** командной строки, или через **переменные окружения**.  
  Для заполнения параметров в диалоге можно использовать [пресеты](#работа-с-пресетами), идущие в комплекте (см. [обзор](#обзор-онлайн-сервисов)).

## Обзор онлайн-сервисов

### Выбор модели

На данный момент наиболее сильные модели это:

- `gpt-5.1`, `gpt-4.1`, `gpt-4o`, `o4`, `o3`, `o1` (а также модели с суффиксами `-mini`) от [OpenAI](https://platform.openai.com/);
- `gemini-2.5-pro` от [Google](https://ai.google.dev/);
- `claude-opus-4.5`, `-sonnet-4.5` от [Anthropic](https://www.anthropic.com/);
- `grok-4.1` от [xAI](https://x.ai/grok);

Из опенсорсных - все что побольше, например:

- `gpt-oss-120b` от OpenAI;
- из серии [Llama](https://www.llama.com/) от [Meta AI](https://ai.meta.com/): `llama-4-maverick`, `llama-3.1-405b`, `llama-3.2-90b`, `llama-3.3-70b`;
- [Mistral](https://mistral.ai/models) Large 3;
- ряд моделей от китайских разработчиков также демонстрирует хорошие результаты:
  [DeepSeek](https://www.deepseek.com/), [Qwen](https://qwenlm.github.io/) от *Alibaba*, [GLM-4.7](https://z.ai/blog/glm-4.7) от [Zhipu AI](https://zhipuai.cn/en/), [Kimi](https://www.kimi.com/) *K2* от [Moonshot AI](https://www.moonshot.ai/), [Baidu](https://ernie.baidu.com/blog/) *ERNIE*,
  [MiniMax](https://www.minimaxi.com/en), [LongCat](https://www.longcatai.org/) от *Meituan*, *Yi* от [01.AI](https://www.01.ai/).

Ориентироваться можно по рейтингу [LMArena](https://lmarena.ai/leaderboard).

### Обзор провайдеров

- [OpenAI](https://platform.openai.com/) – оригинальный разработчик *ChatGPT*.  
  Работа с этим апи возможна как с помощью сторонних утилит, так и с помощью “нативной” конфигурации,
  так и называющейся “*OpenAI-compatible*”.
- Другие *OpenAI*-совместимые: [Mistral AI](https://mistral.ai/), [xAI](https://x.ai/grok) *Grok*, [AI21 labs](https://www.ai21.com) *Jamba*.  
  К этой же категории относится целый ряд провайдеров, предоставляющих доступ к OpenSource-моделям.
- Провайдеры с собственным API, такие как [Google](https://ai.google.dev/) *Gemini*, [Anthropic](https://www.anthropic.com/) *Claude*, [Cohere](https://cohere.com/command) *Command* и т.д.  
  Для поддержки в *AskAI* требуется соответствующая “нативная” конфигурация.  
  Кроме того существуют прокси сервисы для конвертации API в совместимый с *OpenAI* формат,
  некоторые доступны онлайн, другие предназначены для локального использования.

### Обзор [пресетов](#работа-с-пресетами) для сервисов совместимых с [OpenAI API](https://platform.openai.com/docs/api-reference)

В комплекте со скриптом идёт набор пресетов, содержащих предварительно заданные
значения `apibase` (и начальное значение `model`).  
В большинстве случаев пользователю также требуется самостоятельно получить `apikey`,
адрес сайта для регистрации можно найти в файле пресета (открывается из списка по `F4`).

С перечисленными ниже пресетами помимо конфигурации `openai.lua.cfg` совместимы также
конфигурации некоторых утилит (кроме тех, которые хранят эти значения в собственных файлах настроек).

- Не требуют ключа (`apikey`) эти пресеты:
  - [ch.at](https://github.com/Deep-ai-inc/ch.at) (заявлена gpt-4o)
  - Следующие пресеты из поддиректории `trial/`:
    - [deepinfra](https://deepinfra.com/models/text-generation) (всевозможные OpenSource модели):
      some anonymous usage allowed
    - [ovh](https://endpoints.ai.cloud.ovh.net/) (gpt-oss-120b, DeepSeek-R1-Distill-Llama-70B, Meta-Llama-3_3-70B-Instruct):
      Анонимно: 2 запроса в минуту, на IP и на модель.
  - Некоторые пресеты из поддиректории `extra/` (см. ниже)
- Для использования других надо зарегистрироваться и получить ключ.
  Следующие пресеты относятся к бесплатным сервисам (с определёнными лимитами):
  - [cloudflare](https://developers.cloudflare.com/workers-ai/models/) (`@cf/openai/gpt-oss-120b`, `@cf/meta/llama-3.3-70b-instruct-fp8-fast`,
    `@cf/deepseek-ai/deepseek-r1-distill-qwen-32b` и модели поменьше)
  - [cohere](https://cohere.com/command) (серии `command-*` и `c4ai-aya-*`)
  - [gemini](https://ai.google.dev/gemini-api/docs/openai) от *Google*
  - [gitee.ai](https://ai.gitee.com/) / [moark](https://moark.ai/) (DeepSeek, ERNIE, gemma, GLM, gpt-oss, Kimi, MiniMax, Qwen, Yi, …):
    Бесплатно: 100 запросов в день.
  - [github-copilot](https://docs.github.com/en/copilot/get-started/what-is-github-copilot) (модели от *OpenAI*, *Anthropic*, *Google*, *xAI*)
  - [github-models](https://github.com/marketplace?type=models&task=chat-completion) (модели от *Cohere*, *DeepSeek*, *Meta*, *Mistral AI*, *Microsoft*, *OpenAI*, *xAI* и др.)
  - [groq](https://console.groq.com/playground) (OpenSource-модели до 120b: gpt-oss, llama-4-maverick, kimi-k2, qwen, …)
  - [iflow](https://platform.iflow.cn/en) (китайские OpenSource-модели: DeepSeek, GLM, Kimi, Qwen, TStars)
  - [longcat](https://www.longcatai.org/): (`LongCat-Flash-Chat`, `LongCat-Flash-Thinking`): 500,000 токенов в день бесплатно.
  - [mistral](https://mistral.ai/models), [codestral](https://console.mistral.ai/codestral)
  - [nvidia](https://build.nvidia.com/) (OpenSource-модели: DeepSeek, gpt-oss, Kimi, Llama, MiniMax, Mistral, Qwen, Phi-4, …)
  - [poe](https://poe.com/) (все популярные модели + пользовательские “боты”): 3000 поинтов в день на бесплатном плане
  - [pollinations.ai](https://pollinations.ai/) (Claude, Gemini, Grok, Llama, Mistral, Nova, OpenAI, Perplexity,
    DeepSeek, Kimi, Qwen, […](https://gen.pollinations.ai/models))
  - [sambanova](https://cloud.sambanova.ai/pricing) (DeepSeek, gpt-oss, Llama, Qwen, …)
  - [vercel](https://vercel.com/ai-gateway) (модели от *Anthropic*, *Google*, *Meta*, *Mistral AI*, *OpenAI*, *xAI*,
    и множество других, включая китайские OpenSource модели)  
    Для регистрации требуется привязка кредитной карты.  
    Free-аккаунты получают ежемесячно кредит \$5.
    Некоторые модели бывают доступны бесплатно (см. в пресете).
- На некоторых сервисах только часть моделей доступна бесплатно:
  - [clarifai](https://www.clarifai.com/products/model-inference) (бесплатно до 1K запросов/месяц: gpt-oss, DeepSeek, Ministral, Qwen, …)
  - [openrouter](https://openrouter.ai/models?q=:free) (до 50 запросов в день к бесплатным “:free” моделям,
    в том числе gemma, gpt-oss, Mistral, DeepSeek, Kimi, Llama, Qwen, Xiaomi MiMo, …;  
    покупкой 10 кредитов лимит можно увеличить до 1000 запросов в день)
  - [siliconflow](https://docs.siliconflow.cn/reference/chat-completions-1) (бесплатно - DeepSeek, Kimi, …)
  - [z.ai](https://z.ai/model-api), [zhipu](https://bigmodel.cn/) (бесплатно небольшие модели ~ 9B, вида `glm-X.Xx-flash`, см. в пресетах)
- Дополнительные пресеты расположены в поддиректориях.  
  Чтобы они появились в [списке](#работа-с-пресетами), необходимо скопировать нужные из них в основную директорию
  (лучше сделать ссылку).
  - `trial/`: сервисы, для которых доступен пробный кредит.
  - `paid/`: без пробного периода (или кредит \< \$1).
  - `extra/`: прочие, среди которых:
    - сервисы, для бесплатного доступа к которым задействован их приватный API
      (например Cookie и/или другие требуемые данные в заголовках);
    - сервисы неопределённого происхождения.

Кроме того:

- `keepass` позволяет держать свои собственные пресеты в базе [KeePass](https://keepass.info/).  
  Подобным образом можно организовать работу и с другими аналогичными утилитами.

------------------------------------------------------------------------

**Примечание**: задача перечислить все существующие сервисы не ставилась, это попросту невозможно,
не говоря о том, что каждый день могут появляться новые.

Помимо самостоятельных провайдеров, можно встретить также сервисы не вполне понятного происхождения,
не имеющие даже официального сайта. Таким в списке выше является `tmrace` и некоторые другие пресеты в
директории `extra`.

По причине их неопределённого статуса пользоваться ими следует с осторожностью и не передавать чувствительные данные!

Подобных сервисов довольно много, некоторые например перечислены тут: [cool ai stuff!](https://github.com/zukixa/cool-ai-stuff)
